<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>The Shapes Game</title>
  <meta name="viewport" content="width=device-width, user-scalable=no"/>
  <link href="game.css" rel="stylesheet">
  <link href="fonts/css/fontello.css" rel="stylesheet">  
</head>
<body>
  <div id="game-parent">
    <div id="game-container"> 
      <canvas id="pixi-canvas"></canvas>

      <div id="html-layer">
        <div id="sections">

          <!-- screen 1 -->
          <div id="intro-gui">
            <h1>Welcome to the Shapes Game!</h1>
            <p>To continue, please enter your Prolific ID:</p>
            <br>
            <p><input id="user-provided-id"></p>
            <br><button id="done-intro">Continue</button></p>
          </div>
          <div id="training-gui">
            <h1 id="training-title">Training session</h1>

            <!-- screen 2 -->
            <div id="training-1">
              <p>Your mission? To discover interesting and beautiful shapes.</p>
              <p>üîç You discover shapes by moving these green blocks on the screen.
                <br>In the Land of Shapes there are many interesting and beautiful shapes to discover
              </p>
              <div class="bottom-text">
                <p>You discover shapes by moving these green blocks on the screen.</p>
                <p class="highlight">Drag the left-most block to a different location and then press next.</p>
                <br><button id="done-training-1" class="hidden">Next</button>
              </div>
            </div>

            <!-- screen 3 -->
            <div id="training-2" class="hidden">
              <p>You can move any block provided that all blocks stay connected.</p>
              <p>In the game, you can move as many blocks that you want.</p>
              <div class="bottom-text">
                <p> Move another block to a different location and press Next</p>
                <br><button id="done-training-2">Got it</button>
              </div>
            </div>

            <!-- screen 4 -->
            <div id="training-3" class="hidden">
              <p>When you find an interesting or beautiful shape, you can save it to<br>
                the gallery by clicking the heart button.</p>
              <div class="bottom-text">
                <p class="highlight" id="click-there-p">Click the heart button now.</p>
                <button id="after-saving" class="hidden">Continue</button>
              </div>
            </div>

            <!-- screen 5 -->
            <div id="training-4" class="hidden">
              <div class="black-box">
                <p>When the game is over you will get to see<br>all the shapes you saved to the gallery.</p>
                <p id="game-length-sentence" style="text-align: left;">
                  ‚úÖ You have 12 minutes to play.<br>
                  ‚úÖ There's no right and wrong way to play.<br>
                  ‚úÖ Play alone, in a quiet surroundings<br>
                  ‚úÖ Most importantly ‚Äì have fun!
                </p>

                <div class="bottom-text">
                  <button id="done-training-3">Let's play</button>
                </div>
              </div>
            </div>

          </div>
          <div id="blocks-gui">
            <button id="add-shape" style="font-size: 24px; font-family: 'Segoe UI Emoji', 'Apple Color Emoji',emoji;">ü§ç
            </button>
            <br><button id="done-adding">End Game</button>
            <p id="square-countdown" class="hidden">85</p>
            <p id="end-early-message" class="hidden">You need to collect at least 5 shapes to move to the next step</p>
            <p id="continue-message" class="vertical-align hidden">Time's up!
              <br><br>Press the button below to continue
            </p>

            <div id="modal-confirm-done" class="hidden">
              <div id="modal-confirm-box">
              <p>Are you sure you want to end now?</p>
              <button id="modal-confirm-cancel-button">Return to game</button>
              <button id="modal-confirm-done-button">End game</button>
              </div>
            </div>

            <div id="square-timeout-modal" class="hidden">
              <div id="square-timeout-box">
              <p>You have not made a move for over 90 seconds, contrary to the instructions to play continuously and undistracted.
                <br>The game will now end and your participation in the study will be incomplete.</p>
              <button id="square-timeout-done-button">OK</button>
              </div>
            </div>
          </div>
          <div id="selection-gui">
            <p id="gallery-instructions">Please choose the 5 most creative shapes among the shapes you saved.
            </p>
            <button id="done-selection">Done</button>
            <button id="previous-page-button">Previous page</button>
            <button id="next-page-button">Next page</button>
          </div>
          <div id="results-gui">
            <div id="results-block">
              <h1>Results</h1>
              <div id="results-text" class="bottom-text">
                <p id="rapid-search-text" class="hidden"> 
                    Our study shows that creative search is a trade-off between novelty and value. 
                    <br>Your playing method suggests that you are <span class="highlight"><span class="searchScorePercent highlight"></span>%</span> more inclined toward <span class="highlight">rapid and spreading</span>
                    searches which result in higher visual novelty. 
                    In this kind of search, players tend to move rapidly between shapes, creating many shapes which spread across many different visual categories. 
                    This search strategy usually produces shapes that are more unique in our game.
                  </p>
                  <p id="focused-search-text" class="hidden">
                    Our study shows that creative search is a trade-off between novelty and value.
                    <br>Your playing method suggests that you are <span class="highlight"><span class="searchScorePercent highlight"></span>%</span> inclined toward <span class="highlight">focused and thoughtful searches</span> which result in higher visual value. 
                    In this kind of search, players tend to focus on each visual category they discover, collecting thoughtfully
                    shapes at increasing visual consensus. 
                    This search strategy usually produces shapes that carry more meaning in our game.
                  </p>

                <p><br>Your game ID is: <br><br><span class="code" id="code"></span></p>

                <p id="followup-link-container">To complete the experiment, <a id="followup-link" href="">please follow this link</a>.</p>
              </div>
          </div>

          <div id="thanks-block">
            <h1 class="vertical-align">Thanks for playing!</h1>
          </div>
          <div id="thanks-block-timeout">
            <h1 class="vertical-align">Session timed-out.</h1>
          </div>
        </div>
      </div>

      <div id="fullscreen-button">
        <i id="fullscreen-button-full" class="icon-resize-full"></i>
        <i id="fullscreen-button-small" class="icon-resize-small"></i>
      </div>

      </div>
    </div>
  </div>

  <script src="deps/pixi.js"></script>
  <script src="deps/q.js"></script>
  <script src="deps/q-xhr.js"></script>
  <script src="deps/underscore.js"></script>
  <script src="deps/redmetrics.js"></script>

  <script src="bundle.js"></script>
<!--  <script>-->
<!--    document.getElementById("add-shape").addEventListener("click", function() {-->
<!--      document.getElementById("after-saving").click(); // Simulate clicking the "Next" button-->
<!--    });-->
<!--  </script>-->


  </body>
</html>
